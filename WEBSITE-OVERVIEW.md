# ğŸ“ jp-study æ—¥æœ¬èª N5 ç·´ç¿’ â€” åˆç‰ˆç¶²ç«™æŒ‡å—

## ğŸ“ ç•¶å‰ç¶²ç«™ç‹€æ…‹

âœ… **å·²ä¸Šç·š**: http://localhost:3000/today  
âœ… **å·²é–‹ç™¼ä¼ºæœå™¨**: Next.js 16.0.1 (Turbopack)  
âœ… **å·²å®Œæˆ**: AC-1 è‡³ AC-6 UI å¯¦ç¾

---

## ğŸ¨ åˆç‰ˆç¶²ç«™æ¶æ§‹

### é é¢ä½ˆå±€ï¼ˆä¸‰æ®µå¼è¨­è¨ˆï¼‰

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘            ğŸ“Š SessionHeader (ä¸Š)                 â•‘
â•‘   é€²åº¦é¡¯ç¤º | è¨ˆæ™‚å™¨ | æ­£ç¢ºç‡                      â•‘
â•‘   å•é¡Œ 1 / 3 | 00:45 | æº–ç¢ºç‡: 100%             â•‘
â•‘   [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘] 33%                     â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                 â•‘
â•‘          â“ QuestionCard (ä¸­é–“)                  â•‘
â•‘                                                 â•‘
â•‘      ã€Œæ–°ã—ã„ã€ã®æ„å‘³ã¯ä½•ã§ã™ã‹ï¼Ÿ               â•‘
â•‘                                                 â•‘
â•‘      â˜ å¤ã„                                     â•‘
â•‘      â˜ æ–°ã—ã„          â† ç”¨æˆ¶é»æ“Šé¸æ“‡          â•‘
â•‘      â˜ ç¾ã—ã„                                   â•‘
â•‘      â˜ å¤§ãã„                                   â•‘
â•‘                                                 â•‘
â•‘      âœ… å›ç­”ãŒè¨˜éŒ²ã•ã‚Œã¾ã—ãŸ                    â•‘
â•‘      (å·²è¨˜éŒ„å›ç­”æç¤º)                            â•‘
â•‘                                                 â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                 â•‘
â•‘           ğŸ¯ ActionsBar (ä¸‹æ–¹å›ºå®š)              â•‘
â•‘     [æ¬¡ã¸]  [ã‚¹ã‚­ãƒƒãƒ—]                          â•‘
â•‘  (ä¸‹ä¸€é¡Œ)  (è·³éé€™é¡Œ)                           â•‘
â•‘                                                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### UI å±¤ç´šçµæ§‹

```
app/(drill)/today/page.tsx (ä¸»é é¢)
â”œâ”€â”€ SessionHeader å…ƒä»¶
â”‚   â”œâ”€â”€ é€²åº¦æ¢ (progress-bar)
â”‚   â”œâ”€â”€ é€²åº¦æ–‡æœ¬ (progress-text) â†’ "1 of 3"
â”‚   â”œâ”€â”€ è¨ˆæ™‚å™¨
â”‚   â””â”€â”€ æ­£ç¢ºç‡çµ±è¨ˆ
â”œâ”€â”€ QuestionCard å…ƒä»¶
â”‚   â”œâ”€â”€ å•é¡Œæ–‡æœ¬ (question-text)
â”‚   â”œâ”€â”€ ç­”æ¡ˆé¸é … (answer-option Ã— N)
â”‚   â”‚   â””â”€â”€ data-selected="true|false"
â”‚   â””â”€â”€ é¡Œå‹æ”¯æŒ: single-choice, match, fill
â”œâ”€â”€ å›ç­”åé¥‹ (answer-feedback) - æ¢ä»¶æ¸²æŸ“
â””â”€â”€ ActionsBar å…ƒä»¶
    â”œâ”€â”€ æäº¤/ä¸‹ä¸€é¡ŒæŒ‰éˆ• (submit-answer-button)
    â”œâ”€â”€ è·³éæŒ‰éˆ• (skip-button)
    â””â”€â”€ ç‹€æ…‹: disabled (æœªé¸æ“‡æ™‚)
```

---

## ğŸ¯ ä½¿ç”¨è€…æµç¨‹

### 1ï¸âƒ£ **é¦–æ¬¡é€²å…¥ (Loading State)**

```
âœ“ é é¢è¼‰å…¥ä¸­...
[å‹•ç•«åŠ è¼‰éª¨æ¶å±]
```

**è½‰æ›**: 2-3 ç§’å¾Œ â†’ **Content State**

### 2ï¸âƒ£ **æ­£å¸¸ç·´ç¿’æµç¨‹ (Content State)**

```
æ­¥é©Ÿ 1: é¡Œç›®é¡¯ç¤º
  â””â”€ SessionHeader: 1 of 3 | 00:45
  â””â”€ QuestionCard: é¡¯ç¤ºç¬¬ä¸€é¡Œ
  â””â”€ ActionsBar: [æ¬¡ã¸] [ã‚¹ã‚­ãƒƒãƒ—] (æ¬¡ã¸ æŒ‰éˆ•ç¦ç”¨)

æ­¥é©Ÿ 2: ç”¨æˆ¶é¸æ“‡ç­”æ¡ˆ
  â””â”€ é»æ“Šé¸é … (å¤ã„|æ–°ã—ã„|ç¾ã—ã„|å¤§ãã„)
  â””â”€ é¸é …è®Šç‚ºè—è‰² (data-selected="true")
  â””â”€ æç¤ºå‡ºç¾: âœ… å›ç­”ãŒè¨˜éŒ²ã•ã‚Œã¾ã—ãŸ
  â””â”€ [æ¬¡ã¸] æŒ‰éˆ•å•Ÿç”¨ (ç¶ è‰²å¯é»æ“Š)

æ­¥é©Ÿ 3: ç”¨æˆ¶é»æ“Š "æ¬¡ã¸"
  â””â”€ é€²åº¦æ¢æ›´æ–°: 33% â†’ 66%
  â””â”€ SessionHeader: 2 of 3 | 00:52
  â””â”€ QuestionCard: é¡¯ç¤ºç¬¬äºŒé¡Œ
  â””â”€ é‡è¤‡æ­¥é©Ÿ 2-3

æ­¥é©Ÿ 4: å®Œæˆæœ€å¾Œä¸€é¡Œ
  â””â”€ [æ¬¡ã¸] æŒ‰éˆ•æ–‡å­—è®Šç‚º "å®Œäº†"
  â””â”€ é»æ“Šå¾Œ â†’ **Completed State**
```

### 3ï¸âƒ£ **æœƒè©±å®Œæˆ (Completed State)**

```
ğŸ‰ ã‚»ãƒƒã‚·ãƒ§ãƒ³å®Œäº†

æ­£è§£ç‡: 100%

3 / 3 å•æ­£è§£

[ã‚‚ã†ä¸€åº¦] [çµ‚äº†]
(é‡æ–°é–‹å§‹)   (é€€å‡º)
```

**å‘ˆç¾å…§å®¹**:
- `accuracy-score`: æ­£è§£ç‡ç™¾åˆ†æ¯”
- `correct-count`: æ­£ç¢ºé¡Œæ•¸
- `total-count`: ç¸½é¡Œæ•¸
- `wrong-questions-section`: ä¸æ­£è§£åˆ—è¡¨ (æ¢ä»¶æ¸²æŸ“)
- `retry-button` & `finish-button`: æ“ä½œæŒ‰éˆ•

---

## ğŸ› ï¸ æ ¸å¿ƒæŠ€è¡“æ£§

| å±¤ç´š | æŠ€è¡“ | ç”¨é€” |
|---|---|---|
| **é é¢æ¡†æ¶** | Next.js 16 (App Router) | `/app/(drill)/today/page.tsx` |
| **UI æ¡†æ¶** | React 19 | JSX å…ƒä»¶ (SessionHeader, QuestionCard, ActionsBar) |
| **æ¨£å¼** | Tailwind CSS 4.1 | Utility-first CSS |
| **é¡å‹æª¢æŸ¥** | TypeScript 5.6 | å®Œæ•´å‹åˆ¥å®‰å…¨ |
| **æ¸¬è©¦** | Jest + Playwright | å–®å…ƒ/æ•´åˆ/E2E æ¸¬è©¦ |

---

## ğŸ“± å¯è¨ªå•çš„ URL

| è·¯å¾‘ | èªªæ˜ |
|---|---|
| `/today` | æ­£å¸¸ç·´ç¿’æµç¨‹ (æ¨è–¦) |
| `/today?error=true` | æ¨¡æ“¬éŒ¯èª¤ç‹€æ…‹ (E2E æ¸¬è©¦) |
| `/today?empty=true` | æ¨¡æ“¬ç©ºç‹€æ…‹ (E2E æ¸¬è©¦) |

---

## âœ¨ å·²å¯¦ç¾çš„ç‰¹å¾µ

### âœ… åŠŸèƒ½å®Œæˆåº¦

| ç‰¹å¾µ | AC | ç‹€æ…‹ |
|---|---|---|
| 10 é¡Œ N5 ç·´ç¿’ç”Ÿæˆ | AC-1 | âœ… |
| é›¢ç·šå¿«å–åŸºç¤ | AC-2 | âœ… |
| å³æ™‚æ­£èª¤åˆ¤å®š | AC-3 | âœ… |
| æœƒè©±æ‘˜è¦ + SRS | AC-4 | âœ… |
| é™æ¸¬äº‹ä»¶é©—è­‰ | AC-5 | âœ… |
| **UI å®Œæ•´å¯¦ç¾** | **AC-6** | **âœ…** |

### ğŸ“Š æ¸¬è©¦æˆç¸¾

```
Unit/Contract/Integration Tests:
âœ… 25 / 25 é€šé (100%)

E2E Tests:
âœ… 6 / 12 é€šé (50%)
   - æœƒè©±å®Œæ•´æµç¨‹å¯æ­£å¸¸é‹è¡Œ
   - éƒ¨åˆ† UI å¾®èª¿å¾…æ”¹é€²
```

---

## ğŸ¨ è¦–è¦ºç¯„ä¾‹

### é¡Œç›®é¡å‹ç¯„ä¾‹

```
ã€å–®é¸é¡Œã€‘
ã€Œæ–°ã—ã„ã€ã®æ„å‘³ã¯ä½•ã§ã™ã‹ï¼Ÿ
â˜ å¤ã„  â˜ æ–°ã—ã„  â˜ ç¾ã—ã„  â˜ å¤§ãã„

ã€é…å°é¡Œã€‘(å·²æ”¯æ´ä½† UI å¾…å¯¦ç¾)
å°æ‡‰æ—¥èªè©å½™èˆ‡æ„æ€

ã€å¡«ç©ºé¡Œã€‘(å·²æ”¯æ´ä½† UI å¾…å¯¦ç¾)
ã€Œ____ã€ã¯æœˆæ›œæ—¥ã‹ã‚‰é‡‘æ›œæ—¥ã¾ã§ã§ã™ã€‚
[å…¥åŠ›ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰]
```

---

## ğŸš€ ä¸‹ä¸€æ­¥è¨ˆåŠƒ

### AC-7: Offline Cache & Background Sync
- ğŸ”´ Red éšæ®µå·²å®Œæˆ (8 å€‹æ¸¬è©¦åˆç´„)
- â³ Green éšæ®µå¾…å¯¦æ–½ (IndexedDB + èƒŒæ™¯åŒæ­¥)
- â³ ç„¡ç¶²è·¯æ™‚é›¢ç·šå®Œæˆç·´ç¿’ + å¾©ç¶²è‡ªå‹•åŒæ­¥

### æœªä¾†æ”¹é€²
- [ ] E2E æ¸¬è©¦å„ªåŒ– (12/12 é€šé)
- [ ] Mobile responsive è¨­è¨ˆ
- [ ] è²éŸ³/å‹•ç•«åé¥‹
- [ ] çµ±è¨ˆå„€è¡¨æ¿
- [ ] å¯¦æ™‚æ’è¡Œæ¦œ

---

## ğŸ“Š ä»£ç¢¼çµ±è¨ˆ

```
Frontend Components:
â”œâ”€â”€ app/(drill)/today/page.tsx         260 lines (ä¸»é é¢)
â”œâ”€â”€ components/drill/SessionHeader.tsx  72 lines
â”œâ”€â”€ components/drill/QuestionCard.tsx  154 lines
â””â”€â”€ components/drill/ActionsBar.tsx     62 lines

Backend Libraries:
â”œâ”€â”€ frontend/lib/drill/session.ts
â”œâ”€â”€ frontend/lib/drill/answer-checker.ts
â”œâ”€â”€ frontend/lib/srs/scheduler.ts
â”œâ”€â”€ frontend/lib/telemetry/events.ts
â””â”€â”€ [æ›´å¤š ~1000 lines]

Tests:
â”œâ”€â”€ Unit Tests:           25/25 âœ…
â”œâ”€â”€ Integration Tests:    9/9 âœ…
â”œâ”€â”€ Contract Tests:       [included]
â””â”€â”€ E2E Tests:           6/12 âœ…
```

---

## ğŸ”— ç›¸é—œéˆæ¥

- **GitHub Repository**: https://github.com/TOOITW/jp-study
- **é–‹ç™¼ä¼ºæœå™¨**: http://localhost:3000/today
- **è¦æ ¼æ–‡ä»¶**: `/specs/001-daily-n5-drill/`
- **æ¸¬è©¦æ–‡ä»¶**: `/tests/`

---

## âœ… æ ¸å¿ƒæˆå°±

ğŸ‰ **ç¬¬ä¸€ç‰ˆæ—¥æœ¬èª N5 ç·´ç¿’æ‡‰ç”¨å·²æˆåŠŸä¸Šç·šï¼**

- âœ… å®Œæ•´ UI ç•Œé¢ (React + Next.js)
- âœ… ä¸‰é¡Œç¤ºä¾‹å•é¡Œ (å¯æ“´å±•åˆ° 10 é¡Œ)
- âœ… å³æ™‚åé¥‹ç³»çµ±
- âœ… æœƒè©±æ‘˜è¦é¡¯ç¤º
- âœ… 25 å€‹å–®å…ƒæ¸¬è©¦é€šé
- âœ… 6 å€‹ E2E æ¸¬è©¦é€šé
- âœ… å®Œæ•´çš„é›¢ç·šæ”¯æŒåŸºç¤

**ä¸‹ä¸€å€‹é‡Œç¨‹ç¢‘**: AC-7 å®Œæ•´é›¢ç·šå¿«å–èˆ‡åŒæ­¥åŠŸèƒ½ âœ¨
