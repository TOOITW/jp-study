# IndexedDB 快取驗證清單

測試時間: 2025-10-31  
測試頁面: http://localhost:3000/cache-test

## 📋 驗證步驟

### 1. 初始狀態檢查 ✅ / ❌
- [ ] 頁面成功載入
- [ ] 顯示「快取不存在」（首次訪問）
- [ ] 日誌顯示「❌ 快取不存在」

### 2. 儲存到快取 ✅ / ❌
- [ ] 點擊「💾 儲存新問題到快取」
- [ ] 日誌顯示「💾 成功儲存 10 題到快取」
- [ ] 快取資訊區顯示：
  - 問題數量: 10
  - 儲存時間: 當前時間
  - 過期時間: 7天後
  - 剩餘天數: 7天

### 3. 讀取快取 ✅ / ❌
- [ ] 點擊「📥 載入快取問題」
- [ ] 日誌顯示「✅ 從快取載入 10 題」
- [ ] 快取問題列表顯示 10 個問題
- [ ] 每個問題顯示：ID、提示、類型、分類、難度

### 4. 重新載入測試 ✅ / ❌
- [ ] 重新整理頁面 (F5)
- [ ] 快取資訊仍然存在
- [ ] 快取問題自動載入
- [ ] 剩餘天數仍為 7 天

### 5. 過期機制測試 ✅ / ❌
- [ ] 點擊「⏰ 測試過期機制」
- [ ] 日誌顯示「💾 已儲存過期快取（8天前）」
- [ ] 日誌顯示「✅ 過期測試通過：過期快取自動返回空陣列」
- [ ] 快取資訊顯示為 null

### 6. 清除快取 ✅ / ❌
- [ ] 點擊「💾 儲存新問題到快取」（重新建立快取）
- [ ] 確認快取存在
- [ ] 點擊「🗑️ 清除快取」
- [ ] 日誌顯示「🗑️ 已清除所有快取」
- [ ] 快取資訊變為「快取不存在或未載入」
- [ ] 快取問題列表變為空

### 7. /today 頁面整合測試 ✅ / ❌
- [ ] 訪問 http://localhost:3000/today
- [ ] 開啟瀏覽器 Console (F12)
- [ ] 首次訪問顯示：
  ```
  📥 Cache miss, loading from question-bank...
  💾 Saved to cache: 10 questions
  ```
- [ ] 重新整理頁面
- [ ] 第二次訪問顯示：
  ```
  ✅ Loaded from cache: 10 questions
  📦 Cache expires in 7 days
  ```

### 8. 瀏覽器 DevTools 檢查 ✅ / ❌
- [ ] 開啟 Chrome DevTools (F12)
- [ ] 進入 Application → Storage → IndexedDB
- [ ] 看到 `jp-study-cache` 資料庫
- [ ] 展開 → questions → cache
- [ ] 查看快取資料：
  - questions: Array(10)
  - cachedAt: timestamp
  - expiresAt: timestamp
  - schemaVersion: 1

## 🐛 已知問題

記錄測試中發現的任何問題：

1. 

2. 

3. 

## ✅ 驗證結果

- 總測試項目: 8 個主要測試
- 通過: ___
- 失敗: ___
- 跳過: ___

## 📝 備註

（在此記錄任何觀察或建議）
